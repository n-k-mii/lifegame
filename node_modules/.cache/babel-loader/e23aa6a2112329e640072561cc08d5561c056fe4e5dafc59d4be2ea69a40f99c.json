{"ast":null,"code":"import { applyAccessors } from '../optionBuilder';\nimport { toComponentReverse, obtainSlot } from '../utils';\nexport function build(cons, optionBuilder) {\n  const slot = obtainSlot(cons.prototype);\n  const vanillaMap = slot.getMap('vanilla');\n  if (!vanillaMap || vanillaMap.size === 0) {\n    return;\n  }\n  const protoArr = toComponentReverse(cons.prototype);\n  const map = new Map();\n  applyAccessors(optionBuilder, ctx => {\n    protoArr.forEach(proto => {\n      const deses = Object.getOwnPropertyDescriptors(proto);\n      for (const name in deses) {\n        const des = deses[name];\n        if (des && vanillaMap.has(name)) {\n          if (typeof des.get === 'function' || typeof des.set === 'function') {\n            map.set(name, {\n              set: typeof des.set === 'function' ? des.set.bind(ctx) : undefined,\n              get: typeof des.get === 'function' ? des.get.bind(ctx) : undefined\n            });\n          }\n        }\n      }\n    });\n    return map;\n  });\n}","map":{"version":3,"names":["applyAccessors","toComponentReverse","obtainSlot","build","cons","optionBuilder","slot","prototype","vanillaMap","getMap","size","protoArr","map","Map","ctx","forEach","proto","deses","Object","getOwnPropertyDescriptors","name","des","has","get","set","bind","undefined"],"sources":["../../../src/option/accessor.ts"],"sourcesContent":[null],"mappings":"AACA,SAA6BA,cAAc,QAAQ,kBAAkB;AACrE,SAASC,kBAAkB,EAAEC,UAAU,QAAQ,UAAU;AAEzD,OAAM,SAAUC,KAAKA,CAACC,IAAU,EAAEC,aAA4B;EAC1D,MAAMC,IAAI,GAAGJ,UAAU,CAACE,IAAI,CAACG,SAAS,CAAC;EACvC,MAAMC,UAAU,GAAGF,IAAI,CAACG,MAAM,CAAC,SAAS,CAAC;EACzC,IAAI,CAACD,UAAU,IAAIA,UAAU,CAACE,IAAI,KAAK,CAAC,EAAE;IACtC;;EAEJ,MAAMC,QAAQ,GAAGV,kBAAkB,CAACG,IAAI,CAACG,SAAS,CAAC;EACnD,MAAMK,GAAG,GAAkG,IAAIC,GAAG,CAAH,CAAG;EAElHb,cAAc,CAACK,aAAa,EAAGS,GAAQ,IAAI;IACvCH,QAAQ,CAACI,OAAO,CAACC,KAAK,IAAG;MACrB,MAAMC,KAAK,GAAGC,MAAM,CAACC,yBAAyB,CAACH,KAAK,CAAC;MACrD,KAAK,MAAMI,IAAI,IAAIH,KAAK,EAAE;QACtB,MAAMI,GAAG,GAAGJ,KAAK,CAACG,IAAI,CAAC;QACvB,IAAIC,GAAG,IAAIb,UAAU,CAACc,GAAG,CAACF,IAAI,CAAC,EAAE;UAC7B,IAAI,OAAOC,GAAG,CAACE,GAAG,KAAK,UAAU,IAAI,OAAOF,GAAG,CAACG,GAAG,KAAK,UAAU,EAAE;YAChEZ,GAAG,CAACY,GAAG,CAACJ,IAAI,EAAE;cACVI,GAAG,EAAE,OAAOH,GAAG,CAACG,GAAG,KAAK,UAAU,GAAGH,GAAG,CAACG,GAAG,CAACC,IAAI,CAACX,GAAG,CAAC,GAAGY,SAAS;cAClEH,GAAG,EAAE,OAAOF,GAAG,CAACE,GAAG,KAAK,UAAU,GAAGF,GAAG,CAACE,GAAG,CAACE,IAAI,CAACX,GAAG,CAAC,GAAGY;aAC5D,CAAC;;;;IAIlB,CAAC,CAAC;IACF,OAAOd,GAAG;EACd,CAAC,CAAC;AACN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}