{"ast":null,"code":"import { computed } from 'vue';\nimport { obtainSlot, optionNullableMemberDecorator } from '../utils';\nexport const decorator = optionNullableMemberDecorator(function (proto, name, key) {\n  const slot = obtainSlot(proto);\n  const map = slot.obtainMap('provide');\n  map.set(name, typeof key === 'undefined' ? null : key);\n});\nexport function build(cons, optionBuilder, vueInstance) {\n  var _a;\n  (_a = optionBuilder.provide) !== null && _a !== void 0 ? _a : optionBuilder.provide = {};\n  const slot = obtainSlot(cons.prototype);\n  const names = slot.obtainMap('provide');\n  if (!names) return null;\n  names.forEach((value, name) => {\n    const key = value === null ? name : value;\n    optionBuilder.provide[key] = computed(() => vueInstance[name]);\n  });\n}","map":{"version":3,"names":["computed","obtainSlot","optionNullableMemberDecorator","decorator","proto","name","key","slot","map","obtainMap","set","build","cons","optionBuilder","vueInstance","_a","provide","prototype","names","forEach","value"],"sources":["../../../src/option/provide.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,QAAQ,QAAQ,KAAK;AAG9B,SAASC,UAAU,EAAEC,6BAA6B,QAAQ,UAAU;AAIpE,OAAO,MAAMC,SAAS,GAAGD,6BAA6B,CAAC,UAAUE,KAAU,EAAEC,IAAY,EAAEC,GAAmB;EAC1G,MAAMC,IAAI,GAAGN,UAAU,CAACG,KAAK,CAAC;EAC9B,MAAMI,GAAG,GAAGD,IAAI,CAACE,SAAS,CAAC,SAAS,CAAC;EACrCD,GAAG,CAACE,GAAG,CAACL,IAAI,EAAE,OAAOC,GAAG,KAAK,WAAW,GAAG,IAAI,GAAGA,GAAG,CAAC;AAC1D,CAAC,CAAC;AAEF,OAAM,SAAUK,KAAKA,CAACC,IAAU,EAAEC,aAA4B,EAAEC,WAAgB;;EAC5E,CAAAC,EAAA,GAAAF,aAAa,CAACG,OAAO,cAAAD,EAAA,cAAAA,EAAA,GAArBF,aAAa,CAACG,OAAO,GAAK,EAAE;EAC5B,MAAMT,IAAI,GAAGN,UAAU,CAACW,IAAI,CAACK,SAAS,CAAC;EACvC,MAAMC,KAAK,GAAGX,IAAI,CAACE,SAAS,CAAC,SAAS,CAAC;EACvC,IAAI,CAACS,KAAK,EAAE,OAAO,IAAI;EACvBA,KAAK,CAACC,OAAO,CAAC,CAACC,KAAK,EAAEf,IAAI,KAAI;IAC1B,MAAMC,GAAG,GAAGc,KAAK,KAAK,IAAI,GAAGf,IAAI,GAAGe,KAAK;IACzCP,aAAa,CAACG,OAAQ,CAACV,GAAG,CAAC,GAAGN,QAAQ,CAAC,MAAMc,WAAW,CAACT,IAAI,CAAC,CAAC;EACnE,CAAC,CAAC;AACN"},"metadata":{},"sourceType":"module","externalDependencies":[]}